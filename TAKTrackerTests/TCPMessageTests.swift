//
//  TCPMessageTests.swift
//  TAKTrackerTests
//
//  Created by Cory Foy on 9/12/23.
//

import SwiftProtobuf
import XCTest

final class TCPMessageTests: XCTestCase {

    override func setUpWithError() throws {
        // Put setup code here. This method is called before the invocation of each test method in the class.
    }

    override func tearDownWithError() throws {
        // Put teardown code here. This method is called after the invocation of each test method in the class.
    }

    func testExample() throws {
        // bf01bf0a1a1a18
        //let header = "bf01bf0a1a1a18"
        let responseData =  "bf01bf0a1a1a18414e44524f49442d3861666633643937336164313664353812dc050a05622d742d661209556e646566696e65642a5447656f436861742e414e44524f49442d386166663364393733616431366435382e416c6c204368617420526f6f6d732e34633736656666312d633133372d343761342d623762392d3466346165623564393964613097f6cda0ac313897f6cda0ac314097aee7c9ac314a09682d672d692d672d6f51e04a766c0406424059ff9600fc53cb53c0617f6abc749378664069000000000000184071000000e0cf1263417aa4040aa1043c5f5f6368617420706172656e743d22526f6f74436f6e7461637447726f7570222067726f75704f776e65723d2266616c736522206d65737361676549643d2234633736656666312d633133372d343761342d623762392d346634616562356439396461222063686174726f6f6d3d22416c6c204368617420526f6f6d73222069643d22416c6c204368617420526f6f6d73222073656e64657243616c6c7369676e3d22534f52532d54414b2d31223e3c6368617467727020756964303d22414e44524f49442d386166663364393733616431366435382220756964313d22416c6c204368617420526f6f6d73222069643d22416c6c204368617420526f6f6d73222f3e3c2f5f5f636861743e3c6c696e6b207569643d22414e44524f49442d386166663364393733616431366435382220747970653d22612d662d472d552d43222072656c6174696f6e3d22702d70222f3e3c5f5f73657276657264657374696e6174696f6e2064657374696e6174696f6e733d223139322e3136382e302e38303a343234323a7463703a414e44524f49442d38616666336439373361643136643538222f3e3c72656d61726b7320736f757263653d2242414f2e462e4154414b2e414e44524f49442d386166663364393733616431366435382220746f3d22416c6c204368617420526f6f6d73222074696d653d22323032332d30392d32335432323a30353a32352e3635355a223e6174204c43433c2f72656d61726b733e"
        let hexEncodedData = Data(responseData.utf8)
        //let stream = InputStream(data: hexEncodedData)
        let msg = try Atakmap_Commoncommo_Protobuf_V1_TakMessage(serializedData: hexEncodedData)
        //let msg = try BinaryDelimited.parse(messageType: Atakmap_Commoncommo_Protobuf_V1_CotEvent.self, from: stream)
        TAKLogger.debug(msg.debugDescription)
//        BinaryDelimited.parse(messageType: Atakmap_Commoncommo_Protobuf_V1_CotEvent.self, from: InputStream(data: hexEncodedData) )
    }

    func testPerformanceExample() throws {
        // This is an example of a performance test case.
        self.measure {
            // Put the code you want to measure the time of here.
        }
    }

}
